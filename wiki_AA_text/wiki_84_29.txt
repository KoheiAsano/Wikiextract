距離空間
距離空間（きょりくうかん、"metric space"）とは、距離関数（きょりかんすう）と呼ばれる非負実数値関数が与えられている集合のことである。
古代より、平面や空間、地上の 2 点間の離れ具合を表す尺度である距離は測量や科学、数学において重要な役割を果たしてきた。1906年にモーリス・フレシェは、様々な集合の上で定義された関数の一様連続性の概念を統一的に研究した論文 において、ユークリッド空間から距離の概念を抽出して用い、距離空間の理論を築いた。
平面 R の上の 2 点 "P" = ("x", "y"), "P" = ("x", "y") の間の距離にもマンハッタン距離
やユークリッド距離
などがあり、同じ集合に対して何種類もの異なる距離関数を考える事も少なくないため、集合 "X" と距離関数 "d" を組にして ("X","d") と書き、距離空間と呼ぶ。
特に距離が与えられることによって、点同士の関係を実数値として定量的に捉えることができるので、極限や連続性の概念が扱いやすくなる。フレシェは位相幾何学の成果のうちで距離に関するものを汲み上げ、一般の距離空間の性質として証明しなおして適用することで汎関数の極限を調べている。
距離空間では、距離を用いて近傍系を定義する事もできるため、位相空間の特殊な例になっている。ユークリッド距離とマンハッタン距離であれば、R 上に同じ近傍系を定めることができるが、異なる近傍系を持つ距離もある。
フェリックス・ハウスドルフは位相空間の重要な性質として距離・近傍系・極限の 3 つを考察し、近傍系を選び位相空間の公理化を行った。そして、極限や連続性などの概念も距離とは無関係に一般化されていった。こういった一般の位相空間から距離は導かれないので距離空間で論じられる空間は一般の位相空間より狭い範囲のものに限られてしまう。しかし、距離空間は一般の位相空間における定理の意味を掴みやすく、また、位相空間論が応用される集合は距離空間として考えることができる空間が多いため、距離空間は今なお重要な概念である。
集合 "X"上で定義された 2 変数の実数値関数 が、 は任意として
を満たすとき、"d" は "X" 上の擬距離関数あるいは単に擬距離であるといい、対 ("X", "d") を擬距離空間と呼ぶ。
さらに強い条件
が成り立つとき、"d" は "X" 上の距離関数あるいは単に距離であるといい、対 ("X", "d") を距離空間という。距離空間を定義するこれらの条件式（非負性、非退化性、対称性、三角不等式）をまとめて距離の公理という。
集合 "A" と距離空間 ("X", "d") と単射
があるとき、 "a","a"∈"A" に対して
と定義すれば ("A","d") も距離空間になり、"f"によって誘導された距離空間という。
"A"が"X"の部分集合であれば包含写像 によって距離空間("A","d")が誘導される。このように"X" の部分集合と包含写像によって定義された距離空間のことを ("X", "d") の部分距離空間または部分空間という。
距離空間は距離函数の定義を一般化することでその定義を拡張することが出来る。集合 "X" 上の 2 変数実数値関数 "d" が、半正定値性、非退化性と対称性を満たし、三角不等式の代わりにさらに強い条件
を満たすなら、距離関数 "d" は非アルキメデス的 ("non-Archimedean") あるいは超距離 ("ultrametric") であるという。超距離不等式からは三角不等式が導かれるので、超距離は距離でもある。
一つの集合 "X" 上に定義された二つの距離d、d'が適当な定数C、C'に対して
を満たすとき、これらは互いに同値な距離だと言われる。
(X, d) を距離空間、AをXの部分集合とするとき、 sup d(x, y) は A の直径とよばれる。任意の正の実数 ε に対して有限個の直径 ε 以下の部分集合たちで X を覆うことができるとき X は全有界であると言う。
任意のコーシー列が収束するとき、完備であると言う。
"X" を距離空間、"A"をその部分集合とする。"A" の点 "x" について、ある正の数 ε が存在して "x" を中心とする半径 ε の開球（ε-近傍 , ε-開球） (これを"U"("x"; ε)とか "N"("x"; ε)などと書くこともある) が "A" に含まれる時、"x" を "A" の内点 といい、 "A" を点 "x" の近傍という。 "X" における "x" の近傍の全体 V("x")（近傍は "X" の部分集合なので V("x") は集合族になる）を "x" の近傍系という。 このようにして "X" の各点 "x" に対し"X" の部分集合の族 V("x") を対応させる対応は位相空間論における近傍系の公理を満たしており、"X" を位相空間と見なすことができる。
距離空間に対しては、位相空間論の各概念を点列の収束をもちいて次のように特徴づけられることが知られている。"Y" を "X" の部分集合とする。
"y" ∈ "X" が "Y" の内部にあれば、補集合 "Y" から "y" に近づく（収束する）事はできないのだから、"y" は "Y" の縁ではない中身の部分にあるとみなせる。同様に "y" ∈ "X" が "Y" の外部にあれば、"Y" から "y" に近づく事はできないのだから、"y" は "Y" の縁ではない外側の部分にあるとみなせる。また "y" ∈ "X" が "Y" の境界にあれば、"Y" の中からも外からも "y" に近づけるのだから、"y" は"Y" の縁にある。
距離空間は位相空間として第一可算性（任意の点が可算の近傍生成基を持つ）、パラコンパクト性、完全正規性やハウスドルフ性など、いくつかの扱いやすいと見なされる性質を持っている。また、距離空間が可算コンパクト性や点列コンパクト性を持つならばその空間が位相空間としてコンパクトであることが導かれる。この距離空間のコンパクト性は距離空間が全有界かつ完備であることと同値になる。さらに距離空間が可分である（稠密な可算部分集合を持つ）ことと第二可算公理を満たす（可算個の開集合によってその位相が生成される）ことは同値になる。
"X" を距離空間、"U"を "X"×"X" の部分集合とする。ある正の数 ε が存在して "X" の対角成分の近傍
が "U" に含まれるとき、 "U"を "X" の一様近縁という。距離空間の一様近縁全体は一様構造を定める。これを距離から定まる自然な一様構造という。同値な距離からはおなじ一様構造が得られるので、位相構造など一様構造にのみよる概念は同値な距離に対して同じものを与える。
"X" を距離空間、"U"を "X"×"X" の部分集合とする。ある正の数 ε が存在して "X" の対角成分の近傍
が "U" を含むとき、 "U"を "X" の有界近縁という。距離空間の有界近縁全体は粗構造を定める。これを距離から定まる有界粗構造という。同値な距離からはおなじ粗構造が得られるので、有界性など粗構造にのみよる概念は同値な距離に対して同じものを与える。
一般の一様空間は距離函数の値が小さい時の距離の振る舞いの抽象化であり、また一般の粗空間は距離函数の値が大きい時の距離の振る舞いを抽象化するものである。
距離空間のもっとも自明な例は任意の集合に対して定義できる離散距離構造と呼ばれるものである。集合"X" の上の2変数関数
によって定められた距離を離散距離 (discrete metric) といい、距離空間("X","d") を離散距離空間 という。
可算個の距離空間の族 ("X", "d") が与えられたとき、直積集合 ∏ X 上に距離関数を
によって定めることができる。この距離によって定まる の位相はそれぞれの X を位相空間と見なしたときの 上の直積位相に一致している。
特に、(X, d) がすべて2点集合とその上の離散距離である場合、えられる直積距離空間 ({0, 1}, d) はカントール集合に実数の差の絶対値から定まる距離を与えたものと同一視できる。
実数全体のなす集合 R に、距離 "d" を絶対値を用いて "d"("x", "y") = |"x" − "y"| と定めることで、 (R, "d") は距離空間になる。
実数全体のなす集合 R の "n" 個の直積を R と書くとき、 (R, "d") の距離関数 "d" の一般化として次のような 2つの距離関数を考える。
距離"d" は マンハッタン距離 と呼ばれる。一方、距離"d" は "n" 次元ユークリッド距離とよばれ、距離空間(R, "d")は "n" 次元ユークリッド空間という。上述の絶対値の例は 1 次元ユークリッド距離になっていることが分かる。教育や自然科学における応用では、多くの場合ユークリッド距離がもちいられる。
また、これの一般化として -乗平均距離
formula_6
を考えたとき、その極限
formula_7
はチェビシェフ距離と呼ばれる。
このように、同じ集合に対して定めることのできる距離は一つではない。
一般には集合が同じであっても異なる距離関数を与えれば位相空間としても異なるが、ここで定義した "d", "d", "d"に関しては
という関係があり、これら同値な距離はユークリッド空間上に同じ位相構造を定めている。言い換えると、この 3 つの距離はいずれも同じ開集合系を定めるのである。例えば、"d" に関する開集合は必ず "d" に関する開球の和集合に表され、逆に "d" に関する開集合は必ず "d" に関する開球の和集合に表される。"d"によって定まる位相と "d","d"のそれぞれによって定まる位相との関係についても同じことが言える。
他の例としては球面距離がある。
球面上の2点P、Pの球面距離は、PとPを結ぶ大円弧の長さの事である。ただし、PとPを結ぶ大円弧は2つあるが、そのうち短い方の弧長を距離として採用する。もっと直観的に言うと、P、Pの球面距離は、巻尺をP始点にしてPへと球面に巻きつけたときに巻尺に書かれた長さの事である。
球面上には直線距離という別の距離も考えられる。これはP、Pを結ぶ弦の長さとしてあたえられる。
ハミング距離は、2つの文字列の間に定義される距離で、2つの文字列の中に異なる文字何個があるか、である。
たとえば「simply」と「sample」は異なる文字が2つ(iとa、yとe)あるので、「simply」と「sample」のハミング距離は2である。
このようなものにも距離を定義すると、抽象的で分かりにくかった対象に図形的に分かりやすい解釈を与える事ができる。
例えばハミング距離は誤り訂正を図形的で分かりやすいものにしてくれる。
誤り訂正とは、データ通信の際に生じる誤りを取り除く方法の事である。例えば「apple」という文章を送ったはずがデータ通信の途中でエラーが入り、
「axple」になってしまったとしよう。
そうしたらデータを受信した人は辞書を引いて、「axple」とハミング距離が一番近い単語を探す事で誤りを訂正できる。
このようにハミング距離は、「誤りを訂正する」という図形的ではないものに、「距離が一番近いものを探す」という図形的な解釈を与えてくれるのである。
別の例としては、グラフ上の距離がある。グラフの2頂点P、Pの間の距離は PからPへ到達するのに最低いくつの辺を通らねばならないかである。この特別な場合として離散群のケイリーグラフとその上の語距離 (word length metric) が挙げられる。これは離散群G上にその生成集合Sによって定まる距離で、Gの元 "g", "h" の間の距離は "g""h" を S の元の積として表すのに必要な項の数の最小数として定められる。有限生成群における、有限集合の範囲での生成集合の取り替えはケイリーグラフ上に互いに同値な距離を与える。
可微分多様体 "M" と、"M"上の計量テンソルと呼ばれる（非退化・正定値・対称）2階の共変テンソル "g" をあわせたものはリーマン多様体と呼ばれる。テンソル"g"によって "M"の各点での接空間に対し接ベクトルの長さを表す正定値の2次形式が与えられ、これをもとにして"M"上の曲線の弧長を定義することができる。"M"上の距離は2点間を結ぶ長さ最小の曲線（測地線）の長さとして定められる。
δ を正の数とする。2点間の測地線が定められるような距離空間 X について、δ-双曲性の概念が以下のように定式化できる。Xの任意の3点a, b, cに対してこれらを頂点とし、それらの間の測地線A, B, Cを辺とするような三角形が考えられることになるが、そのどの一辺もほかの二辺の δ-近傍に含まれているとき、Xはδ-双曲的であるという。有限生成離散群 G のケイリーグラフがあるδについてδ-双曲的となる場合に G は双曲群と呼ばれる。
"p" を素数としたとき、-進距離は有理数の（あるいはより一般にp進数の）集合上に定義される距離で、整数 "n" について有理数 "a", "b" の差 "a" − "b" が "p" の整数倍だが "p"の整数倍ではないとき、"p"を "a" と "b" の間の "p" 進距離と定義する。ただし "a" = "b" のときは "a" と "b" の "p" 進距離は 0 であると定義する。たとえば 15 − 3 = 12 は 2 の倍数であるが 2 の倍数では無いので、15 と 3 の 2 進距離は 2 = 1/4 である。"p" 進整数環 Z は距離空間として離散距離空間 の可算個のコピーの直積空間 になっている。
実数または複素数体上のノルム空間は、二つの元の間の距離をそれらの差のノルムとしてさだめることで距離空間と見なすことができる。このようにして得られる距離空間のうちで完備なものはバナッハ空間と呼ばれ、関数解析学における主要な枠組みの一つとなっている。
ノルムによって位相が定まっているとは限らない位相線型空間のうちで平行移動不変な距離について完備空間となっているようなものはフレシェ空間と呼ばれる。バナッハ空間のほかに、微分多様体上の滑らかな関数のなす空間や、急減少数列のなす空間などがフレシェ空間の例になっている。
実数の差の絶対値による距離を与えた単位閉区間の可算個の直積 は完備可分距離空間となり、ヒルベルト立方体とよばれる。位相的にはこれはコンパクト空間 [0, 1] の可算個の直積の積位相によって得られるコンパクト空間になっている。可分な（あるいは同値なことだが、第二可算公理を満たす）距離空間 (X, d) は、その稠密な可算部分集合 をもちいて と定義される写像によりヒルベルトキューブの中に埋め込むことができる。こうして任意の可分距離空間は位相的にはヒルベルト・キューブの部分空間と同一視することができる。
完備な可分距離空間のボレル集合のなすσ代数はきわめて限られたものになっている。実際、そのようなσ代数は
のボレル集合のなす2種類σ代数の和として表すことができる。
