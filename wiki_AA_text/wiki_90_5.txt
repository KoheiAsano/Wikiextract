写像
写像（しゃぞう、, ）とは、二つの集合が与えられたときに、一方の集合の各元に対し、他方の集合のただひとつの元を指定して結びつける対応のことである。函数（関数）、変換、作用素、射などが写像の同義語として用いられることもある。
ブルバキに見られるように、写像は集合とともに現代数学の基礎となる道具の一つである。現代的な立場では、「写像」と（一価の）「函数」は論理的におなじ概念を表すものと理解されているが、歴史的には「函数」の語は解析学に出自を持つものであり、一部には必ずしも写像でないものも函数の名の下におなじ範疇に扱われる（多価函数参照）。文献によっては「数の集合（大抵の場合実数体 または複素数体 の部分集合）を終域に持つ写像」をして特に「函数」と呼び、「写像」はより一般の場合に用いる。函数、二項関係、対応の各項も参照のこと。
集合 の各元に対してそれぞれ集合 の元をただひとつずつ指定するような規則 が与えられているとき、 を「始域または定義域 から終域 への写像」といい
などと表す。また は で（あるいは の上で）定義されているといい、あるいはまた は に（あるいは の中に）値を持つという。始域 を 、終域 を のように記すこともある。また、 の元 に対して によって指定される の元が である（このことを、 が によって に写されるという）とき、 を における の像あるいは値（あたい、）と呼び、 を で表す。また、代表元 が によって に写されることを、棒つき矢印を用いて
などとも表す。変数 を用いて のように写像を表すとき、 は、 を亘る（または走る）変数 の函数である、あるいは変数 に従属するという。
集合論に由来する定義と、圏論に由来する定義に分けて説明する。
集合論においては、集合 , の元の順序対からなる集合（すなわち二項関係） が
の二つをみたすとき、 を から への函数と呼び、 で表す。またこのとき、 であることを と書く。この文脈では、 と のグラフ } を同一視し、函数と写像を同じ意味に用いる。
二つの写像 と の相等は、集合として同一であるということ、すなわち
ということであるが、これは（ と の定義域が等しく、かつ）任意の に対して であることと同値である。
一方、圏論の用語との整合性を重んじる文脈では、次のようになる。
集合 , の元の順序対からなる集合（すなわち二項関係） が
の二つをみたすとき、三つ組 をこの関数関係 から定まる から への写像と呼び、 で表す。またこのとき、 であることを と書き、を写像 のグラフと呼ぶ。二つの写像 と の相等は、三つ組としての相等をいう。特に、, がともに から への写像のとき、 と が等しいというのは、この二つの写像のグラフ と とが の集合として同一であるということ、すなわち
ということであるが、これは任意の に対して であることと同値なので、素朴な意味で写像 と が等しいと言ったときと同じ意味となる。
圏論の用語と整合性をとる文脈では、写像の相等を扱う際の、二つの写像が「ともに から への」写像であるという但し書きは重要である。例えば から への写像 と から なる への写像 について、集合として （つまりグラフが一致）でも三つ組としては異なるから、この二つの写像は同一でない。実際、 なる元の対応で定められる二つの写像 と を考えると後者は全射性を持つが前者はそうでない（値域・終域の各項も参照）。
また、超限帰納法を用いるなどして写像を集合論的に構成する場合、始域や終域としては「すべての集合」のような真の類を考えることもある。そのような場合でも定義域 が集合であれば順序対の集まり や値域 も集合となる。
など。これらはどれも、圏論における射の例になっている。（#射・函手）
 を集合とする。写像 が の任意の元 に対して をみたすとき、 は定値写像といわれる。 が空でないとき、定値写像とはその像が一元集合となるものである。 が空であるときは、文献によって扱いが異なる。
 を の部分集合とするとき、 によって に写される始域 の元全体からなる集合 を の逆像または原像といい、 で表す。
で定義される。
二つの写像 , を考える。
上の集合論的な定義に従って書けば
が合成写像のグラフであり、合成 は三つ組として で表される。
以下の合成が定義される限りにおいて、
が成り立つ。また
は両辺が定義される場合においても一般には成立しない。これらのことから、特に からそれ自身への写像（ 上の変換）全体の集合は恒等写像を単位元とする非可換モノイドをなすことがわかる。
 を から への全単射とする。 によって は に対応しているが、 は全射だから、全ての がある に対応していて、 が単射であることからそのような は一つしかないことが分かる。従ってこの関係を逆に見て、 が に対応しているとみなすこともできる。この対応によって得られる から への写像を の逆写像といい、 と表す。は から への全単射である。 の構成から、
であることが分かる。
, の合成 が定義可能で全単射であるとき、 が全射であることおよび が単射であることが容易に確かめられるが、このことの逆も次の意味で成り立つ。
この二つの事実には、正確に逆が成り立つ。従って、全射と単射を次のように定義することもできる；
既知の写像から別の新たな写像を構成する方法をいくつか示す。
写像の定義域をより小さな部分集合に取り換えることで写像の制限 (restriction) または縮小が定義される。すなわち、写像 と部分集合 が任意に与えられたとき、任意の に対して と置くことにより定義される写像 を写像 の への（定義域の）制限と呼ぶ。写像 の適当な制限が に一致するとき、 は の延長 (continuation) または拡大もしくは拡張 (extension) であるという。終域の制限や延長を考えることもある。また写像の制限の記号は誤解のおそれが無い限り省略されることも多い。
ふたつの写像 , で、それらの定義域が交わりを持たない () とき、これらのグラフの合併として写像の直和 を定義する。これは具体的に
と書ける区分的に定義された写像である。より一般に、 のとき、二つの写像の への制限が を満たすとき、直和写像 は well-defined で、
を満たす。直和 は , の共通の延長として最小であり、直和のグラフはそれぞれの写像のグラフの合併である。直和は可換である。
さらに一般の場合に、 の による上書き和 (override union) と呼ばれる の延長 が および のグラフの合併として与えられ、
と書ける。上書き和は一般には可換でない。
ふたつの写像 , に対して、写像の直積 は
で与えられる。
任意の写像 に対し、 上の二項関係 を
で定めると は同値関係で、写像 に付随する同値関係と呼ばれる。この同値関係による類別を考えることにより は等位集合 の和に分割される。このとき、商集合 からの写像
は well-defined で、 の同値関係 による商写像あるいは に付随する全単射と呼ぶ。写像系列
あるいは等式 （ただし、 は自然な全射、 は自然な単射）を写像 の標準分解と呼ぶ。
 から への写像全体の成す集合は配置集合 () と呼ばれ、しばしば指数記法に従って （あるいは ）と書かれる。圏論の言葉で言えば配置集合は集合と写像の圏の指数である。配置集合は formula_26 とも書かれる。 
のように二変数写像をある種一変数化する、配置集合の間の同型である。
写像 formula_28 の間の相等関係 formula_29 は次のように定義される：
formula_30
集合論では，定義域の相等と同じ元に対する像の相等のみ要求して，終域の相等は要求しない．
一方，圏論の用語と整合性をとる文脈では「定義域」「終域」「同じ元に対する像の相等」によって写像の相等を特徴づける．このような文脈では，定義域と終域を特定せずに勝手に選んだ写像 formula_31 については，
formula_32
と定義される（formula_33 に対して formula_34 が定まることは formula_35 より従う）．
　formula_36 をそれぞれ formula_37 と定義したとする．この formula_38 は写像として異なる．しかし， formula_39 の終域を像 formula_40 に置き換えた写像 formula_41 を考えると formula_42 となる．このように，終域を像に置き換えることによって等しくなる写像を，最初から等しいとみなしてしまおう，という考え方が，上で述べた「終域の相等」を要求しない定義に対応する．
　一方で，formula_43 をそれぞれ formula_44 と定義したとする．この formula_45 も写像として異なるが， formula_46 の定義域を formula_47 に制限した制限写像 formula_48 を考えると， formula_49 となる．このような，定義域の制限によって等しくなる写像は，等しくないと考えるのが通例である．
複数の集合と写像を一度に扱う必要があるとき、図式や系列と呼ばれる道具を用いると記述が簡素になる。ホモロジー代数や圏論の文脈ではよく用いられる。写像の図式とは、いくつかの集合を頂点とし、それらの集合間の写像を有向辺にもつようなグラフである。簡単な図式の例としては鎖 formula_50 や
などを挙げることができる。任意の頂点から別の任意の頂点への写像が経路の取り方に依らないとき、図式は可換であるという。例えば のとき図式
は可換であり、逆もまた成り立つ。
一般には、定義域と始域が異なる（値の定められていない始域の元が存在する）という場合も考え得る。集合 , の元の順序対からなる集合（すなわち二項関係） が
をみたすとき は から への関数関係であると言われる。このとき、三つ組 をこの関数関係 から定まる から への部分写像と呼び、 で表す。部分写像 すなわち の定義域 と値域 は次のように定義される：
写像の定義の際には課した関係の全域性は、部分写像 の定義域 が始域 に一致することをいうものであり、全域的な部分写像を特に全域写像 () と呼ぶ。すなわち、全域写像は写像の同義語である。
写像の多変数化による一般化を考えると、それは始域を何らかの直積集合に取り換えた通常の意味の写像として扱える。とくに一つの集合 に対して なる形の多変数写像は の複数の元から別の新しい元を作り出す操作と見做して算法と呼ばれる。
多値の函数の場合も終域を直積集合に取り換えた写像として定式化することができる場合もあり、例えば はスカラー値函数の直積として理解できる。しかし単純にそのように捉えることができない場合、あるいは捉えないほうがよい場合もある。例えば多価の複素解析函数は、分岐切断を超えてそれぞれの分枝の間に素性の良い関係性を記述することができ、適当なリーマン面上で定義された通常の函数と考えることが有効である。
写像は集合と写像の圏における射であり、一般ににおける射はある種の写像として与えられるが、一般の圏における射は必ずしも写像でない。
圏の間の函手は、集合の間の写像と似た概念だが、対象同士の対応関係とともに対象間の射についても同時に対応関係を記述する。さらに、函手間の射として自然変換の概念が定式化される。
